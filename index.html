<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Chowchow</title><meta name="description" content="Documentation for Chowchow"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Chowchow</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>Chowchow</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#chowchow" id="chowchow" style="color: inherit; text-decoration: none;">
  <h1>Chowchow</h1>
</a>
<p><a href="https://garraflavatra.github.io/chowchow/"><img src=".github/api.svg" alt="API docs"></a></p>
<p>Efficient and customisable server-side caching made easy. Chowchow caches everything you want to cache, from CMS data to API responses.</p>
<ul>
<li>ðŸš€ Makes your app faster.</li>
<li>ðŸ’¼ Bring your own function to get the data.</li>
<li>ðŸ•° Expiration time from 1 second to an aeon.</li>
<li>ðŸª¶ Extremely lightweight (1.8 kB).</li>
</ul>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<pre><code class="language-shell"><span class="hl-0">npm install @garraflavatra/chowchow</span>
</code></pre>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p><a href="https://garraflavatra.github.io/chowchow/classes/CacheStore.html"><img src=".github/api.svg" alt="API docs"></a></p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-2">CacheStore</span><span class="hl-0"> </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;chowchow&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">cache</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">CacheStore</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-7">/* Store name */</span><span class="hl-0"> </span><span class="hl-3">&#39;cache&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">/* Callback that fetches data */</span><span class="hl-0"> </span><span class="hl-4">async</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">res</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-6">fetch</span><span class="hl-0">(</span><span class="hl-3">&#39;http://localhost:5000/myapi&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-1">if</span><span class="hl-0"> (!</span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-2">ok</span><span class="hl-0">) </span><span class="hl-1">return</span><span class="hl-0"> { </span><span class="hl-2">success:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> };</span><br/><br/><span class="hl-0">        </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">entries</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-6">json</span><span class="hl-0">();</span><br/><span class="hl-0">        </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">filtered</span><span class="hl-0"> = </span><span class="hl-2">entries</span><span class="hl-0">.</span><span class="hl-6">filter</span><span class="hl-0">(</span><span class="hl-2">e</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">e</span><span class="hl-0">.</span><span class="hl-2">status</span><span class="hl-0"> === </span><span class="hl-3">&#39;online&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-1">if</span><span class="hl-0"> (!</span><span class="hl-2">filtered</span><span class="hl-0">.</span><span class="hl-2">length</span><span class="hl-0">) </span><span class="hl-1">return</span><span class="hl-0"> { </span><span class="hl-2">success:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> };</span><br/><br/><span class="hl-0">        </span><span class="hl-1">return</span><span class="hl-0"> { </span><span class="hl-2">success:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-2">data:</span><span class="hl-0"> </span><span class="hl-2">onlineEntries</span><span class="hl-0"> };</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-7">/* Maximum age in minutes */</span><span class="hl-0"> </span><span class="hl-8">15</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">/* Cache file directory */</span><span class="hl-0"> </span><span class="hl-3">&#39;.cache&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">/* File name */</span><span class="hl-0"> </span><span class="hl-3">&#39;cache&#39;</span><br/><span class="hl-0">);</span>
</code></pre>

<a href="#get-the-data" id="get-the-data" style="color: inherit; text-decoration: none;">
  <h3>Get the data</h3>
</a>
<p><a href="https://garraflavatra.github.io/chowchow/classes/CacheStore.html"><img src=".github/api.svg" alt="API docs"></a></p>
<p>If the cache is not expired yet according to the expiration time, it will return the cache. Otherwise it will fetch new data, save it to the store, and return it.</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">data</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">cache</span><span class="hl-0">.</span><span class="hl-6">getData</span><span class="hl-0">();</span>
</code></pre>

<a href="#read-the-cache" id="read-the-cache" style="color: inherit; text-decoration: none;">
  <h3>Read the cache</h3>
</a>
<p><a href="https://garraflavatra.github.io/chowchow/classes/CacheStore.html#readCache"><img src=".github/api.svg" alt="API docs"></a></p>
<p>This returns the cache, regardless of whether it is expired or not.</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">cachedData</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">cache</span><span class="hl-0">.</span><span class="hl-6">readCache</span><span class="hl-0">();</span>
</code></pre>

<a href="#get-fresh-data" id="get-fresh-data" style="color: inherit; text-decoration: none;">
  <h3>Get fresh data</h3>
</a>
<p><a href="https://garraflavatra.github.io/chowchow/classes/CacheStore.html#getFreshData"><img src=".github/api.svg" alt="API docs"></a></p>
<p>This fetches fresh data and returns it, regardless of whether it is expired or not. The function is the given callback parameter of the constructor. Note that this does not write the cache to the cache file.</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">freshData</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">cache</span><span class="hl-0">.</span><span class="hl-6">getFreshData</span><span class="hl-0">();</span>
</code></pre>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p><a href="LICENSE.md">MIT</a></p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/CacheStore.html" class="tsd-kind-icon">Cache<wbr/>Store</a></li><li class="tsd-kind-interface"><a href="interfaces/CachedData.html" class="tsd-kind-icon">Cached<wbr/>Data</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnyObject" class="tsd-kind-icon">Any<wbr/>Object</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Callback" class="tsd-kind-icon">Callback</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#MaybePromise" class="tsd-kind-icon">Maybe<wbr/>Promise</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>